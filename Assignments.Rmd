---
title: "Assignments"
output:
  html_document:
    toc: yes
    toc_float: yes
    collapsed: no
    number_sections: no
    toc_depth: 1
  pdf_document:
    toc: no
    toc_depth: '1'
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
This page will contain all the assignments you submit for the class.

TEST

### Instructions for all assignments

I want you to submit your assignment as a PDF, so I can keep a record of what the code looked like that day. I also want you to include your answers on your personal GitHub website. This will be good practice for editing your website and it will help you produce something you can keep after the class is over.

1. Download the Assignment1.Rmd file from Canvas. You can use this as a template for writing your answers. It's the same as what you can see on my website in the Assignments tab. Once we're done with this I'll edit the text on the website to include the solutions.

2. On RStudio, open a new R script in RStudio (File > New File > R Script). This is where you can test out your R code. You'll write your R commands and draw plots here.

3. Once you have finalized your code, copy and paste your results into this template (Assignment 1.Rmd). For example, if you produced a plot as the solution to one of the problems, you can copy and paste the R code in R markdown by using the ` ``{r} ``` ` command. Answer the questions in full sentences and Save.

4. Produce a PDF file with your answers. To do this, knit to PDF (use Knit button at the top of RStudio), locate the PDF file in your docs folder (it's in the same folder as the Rproj), and submit that on on Canvas in Assignment 1.

5. Build Website, go to GitHub desktop, commit and push. Now your solutions should be on your website as well.



# Assignment 1

**Collaborators: Lorem Ipsum. **

This assignment is due on Canvas on Monday 9/20 before class, at 10:15 am. Include the name of anyone with whom you collaborated at the top of the assignment.

### Problem 1 

Install the datasets package on the console below using `install.packages("datasets")`. Now load the library.

```{r}
options(repos = list(CRAN="http://cran.rstudio.com/"))
#install.packages ("dataset_load")
```

Load the USArrests dataset and rename it `dat`. Note that this dataset comes with R, in the package datasets, so there's no need to load data from your computer. Why is it useful to rename the dataset?

```{r}
dat <- USArrests
```

Answer: It is useful to rename datasets because it is good practice and it is more convenient to use instead of the full names of data sets which are usually longer. Also, might reduce errors in using a short and simple name such as dat. 


### Problem 2

Use this command to make the state names into a new variable called State. 

```{r}
dat$state <- tolower(rownames(USArrests))
```

This dataset has the state names as row names, so we just want to make them into a new variable. We also make them all lower case, because that will help us draw a map later - the map function requires the states to be lower case.


List the variables contained in the dataset `USArrests`.

```{r}
names(dat)
```
The five variables are Murder, Assault, UrbanPop, Rape, and State.

### Problem 3 

What type of variable (from the DVB chapter) is `Murder`? 

Answer: Murder is a quantitative variable.

What R Type of variable is it?

```{r}
class(dat$Murder)
```
Answer: Murder is a numeric value. 

### Problem 4

What information is contained in this dataset, in general? What do the numbers mean? 

Answer: This dataset includes the number of murder, assault, urbanpop, and rape cases throughout 50 states. The datasets relies on the recorded cases of crimes that offenders/criminals commit. It was most likely collected from the series of reported crime statisitcs on the internet or perhaps even the Federal Bureau of Justice Statistics. The numbers represent the frequency of that crime for each state. I assume that reserchers of crime rates,statiticians in the field of law enforcement or legal justice created this dataset to compare crime rates across the U.S. but also the frequency of the different crimes against each other.

### Problem 5

Draw a histogram of `Murder` with proper labels and title.

```{r, eval=TRUE}
hist(dat$Murder, main="Histogram of Murder", xlab="Arrests per 100,000 Residents", ylab="Frequency")
```

### Problem 6

Please summarize `Murder` quantitatively. What are its mean and median? What is the difference between mean and median? What is a quartile, and why do you think R gives you the 1st Qu. and 3rd Qu.?

```{r, eval=TRUE}
summary(dat$Murder)
```

The mean is 7.788 and the median is 7.250. Mean is the average of the data set. It is found by adding all the numbers in the data set and then dividing by the number of values in the set. The median is the middle value when a data set is ordered from least to greatest. A quartile is a type of quantile which divides the data set into four parts. You can deduce the interquartile range (IQR) from Q1 and Q3 and this is significant because the IQR, also known as the midspread/middle 50%/H spread is a measure of statistical dispersion or the variability in a data set. 

### Problem 7 (a)

Repeat the same steps you followed for `Murder`, for the variables `Assault` and `Rape`. 

```{r, eval=TRUE}
hist(dat$Assault, main="Histogram of Assault", xlab="Arrests per 100,000 Residents", ylab="Frequency")
```
```{r}
summary(dat$Assault)
```

The mean is 170.8 and the median is 159.0. 

```{r, eval=TRUE}
hist(dat$Rape, main="Histogram of Rape", xlab="Arrests per 100,000 Residents", ylab="Frequency")
```
```{r, eval=TRUE}
summary(dat$Rape)
```

The mean is 21.23 and the median is 20.10. 

### Problem 7 (b)

Now plot all three histograms together. You can do this by using the command `par(mfrow=c(3,1))` and then plotting each of the three. 

```{r, eval=TRUE}
par(mfrow=c(3,1))
hist(dat$Murder, main="Histogram of Murder", xlab="Arrests per 100,000 Residents", ylab="Frequency")
hist(dat$Assault, main="Histogram of Assault", xlab="Arrests per 100,000 Residents", ylab="Frequency")
hist(dat$Rape, main="Histogram of Rape", xlab="Arrests per 100,000 Residents", ylab="Frequency")
```

What does the command par do, in your own words (you can look this up by asking R `?par`)?

```{r, eval=TRUE}
?par
```

Answer: par can be used to set either give you information about graphs and/or let you set parameters for graphs. 

What can you learn from plotting the histograms together?

Answer: By plotting the histogams together, we can observe the scale at which the different crimes occurred. You can compare the frequencies across the different crimes too.

 Problem 8

In the console below (not in text), type `install.packages("maps")` and press Enter, and then type `install.packages("ggplot2")` and press Enter. This will install the packages so you can load the libraries.

Run this code:

```{r, eval = FALSE, fig.width = 7.5, fig.height = 4}
install.packages("maps")
install.packages("ggplot2")

library(maps)
library(ggplot2) 

ggplot(dat, aes(map_id=state, fill=Murder)) + 
  geom_map(map=map_data("state")) + 
  expand_limits(x=map_data("state")$long, y=map_data("state")$lat)
```

What does this code do? Explain what each line is doing.

Answer: The first line determines the dimensions of the graph. The second and third line installs the package necessary to make the graph, specifically a map. The fourth and fifth lines load the library of the two packages necessary to construct a map. The sixth lines tells the map to only include states and the frequency of Murder in each state. The last three lines serves as the data frame that contains the map coordinates. 



# Assignment 2 

Problem 1: Load data

Set your working directory to the folder where you downloaded the data.

```{r, eval=FALSE}
setwd("/Users/isatounjie/Documents/GitHub/Aishas-Website/Assignment 2")
```

Read the data

```{r}
dat <- read.csv("dat.nsduh.small.1.csv")
```

What are the dimensions of the dataset? 

```{r}
names(dat)
```

Answer: The dimensions of the dataset are mjage, cigage, iralcage, age2, sexatract, speakengl, and irsex. 

## Problem 2: Variables

```{r}
class(dat$mjage)
class(dat$cigage)
class(dat$iralcage)
class(dat$age2)
class(dat$sexatract)
class(dat$speakengl)
class(dat$irsex)
```

 Describe the variables in the dataset.

Answer: It appears that mjage, cigage, iralcage, age2, sexatract, and speakengl are all ordinal variables and irsex is a categorical variable. It could also be regarded as an ordinal variable. In terms of r type, they are all intergers.  

 What is this dataset about? Who collected the data, what kind of sample is it, and what was the purpose of generating the data?

Answer: This dataset observes the age at which participants first tried marijuana, first started smoking cigarettes every day,first tried alcohol, what they identify as in terms of gender, their sexual attraction,  how well they speak English as well as the final recorded age of the participants. The data was collected from The National Survey on Drug Use and Health, specifically RTI International. Even though participants are selected and then interviewed, I believe this is an example of simple random sampling. Participants aren't chosen just because they fit a certain criteria. 

## Problem 3: Age and gender

 What is the age distribution of the sample like? Make sure you read the codebook to know what the variable values mean.
 
Answer: Ranges 1-10 signify a participant at one, specific age, however ranges 11-12 signify an option between two ages, and ranges 13-16 signify a range of ages. 17 signifies the largest range with participants that are 65 or older. 

Do you think this age distribution representative of the US population? Why or why  not?

Answer: Yes, I believe this is representative of the US population in the context of this study. Children start experimenting (in terms of drugs, sex, and alcohol) around the age of 12. Also, it is unlikely to receive parental consent for a study like this for children that are too young. 

*Correction: They cut off the survey at age 12 by design, not because they found people used drugs less below that age (although that is probably also true). There are other surveys of children's use of drugs. 


 Is the sample balanced in terms of gender? If not, are there more females or males?
 
```{r}
hist(dat$irsex)
```

Answer: This sample is nearly balanced, there are 91 participants that identify as male and 80 that identify as female.

 Use this code to draw a stacked bar plot to view the relationship between sex and age. What can you conclude from this plot?

```{r, eval=TRUE}
table(dat$irsex,dat$age2)
head(dat)
tab.agesex <- table(dat$irsex,dat$age2)
barplot(tab.agesex,
        main = "Stacked barchart",
        xlab = "Age category", ylab = "Frequency",
        legend.text = rownames(tab.agesex),
        beside = FALSE) # Stacked bars (default)
    ```
        
Answer: In the youngest age group (4) and group 11, there is an even split. In  age groups 6, 7, 13, 14, 15, 16, and 17 there are more men than female, however in age groups 8, 9,10, and 12 there are more females. Men dominate the majority of all the age groups. 

## Problem 4: Substance use

*correction: table is not needed. just look at lowest value for all the different groups. 

*why do the age values go past 17 for mjage, cigage, and iralcage. 
*barplots don't actually help to see this, but I don't know how to get a breakdown of the data points within each group. 

 For which of the three substances included in the dataset (marijuana, alcohol, and cigarettes) do individuals tend to use the substance earlier?
 
Individuals tend to use alcohol earliest. 

```{r}
table(dat$mjage,dat$age2)
head(dat)
tab.agemjage <- table(dat$mjage,dat$age2)
barplot(tab.agemjage,
        main = "Stacked barchart",
        xlab = "Age category", ylab = "Frequency",
        legend.text = rownames(tab.agemjage),
        beside = FALSE) # Stacked bars (default)
    ```

Earliest age range is 8. 

```{r}
table(dat$cigage,dat$age2)
head(dat)
tab.agecigage <- table(dat$cigage,dat$age2)
barplot(tab.agecigage,
        main = "Stacked barchart",
        xlab = "Age category", ylab = "Frequency",
        legend.text = rownames(tab.agecigage),
        beside = FALSE) # Stacked bars (default)
    ```

Earliest age range is 10. 

```{r}
table(dat$iralcage,dat$age2)
head(dat)
tab.ageiralcage <- table(dat$iralcage,dat$age2)
barplot(tab.ageiralcage,
        main = "Stacked barchart",
        xlab = "Age category", ylab = "Frequency",
        legend.text = rownames(tab.ageiralcage),
        beside = FALSE) # Stacked bars (default)
    ```

Earliest age range is 5. 

## Problem 5: Sexual attraction

What does the distribution of sexual attraction look like? Is this what you expected? What is the distribution of sexual attraction by gender?

```{r}
table(dat$sexatract,dat$irsex)
head(dat)
tab.irsexatract <- table(dat$sexatract,dat$irsex)
barplot(tab.irsexatract,
        main = "Stacked barchart",
        xlab = "Sexual Attraction", ylab = "Frequency",
        legend.text = rownames(tab.irsexatract),
        beside = FALSE) # Stacked bars (default)
    ```
        
Answer: "I am only attracted to the oppisote sex" accounts for the majority of both males and females, however it accounts for nearly all men. From there, the numbers are very low. More women state they are as equally attracted to men as they are to other women. The difference is very minimal for those who selected "I am mostly attracted to same sex," "I am only attracted to same sex," I am not sure," and those who skipped the question. I am not surprised. There's a great deal of non-binary, intersex, transgender, and other sexual identities outside of male and female that aren't accounted for. Furthermore, these individuals left out would most likely not be in the first category, thus varying the data and evening out the distribution of the data. 

## Problem 6: English speaking

What does the distribution of English speaking look like in the sample? Is this what you might expect for a random sample of the US population?

```{r}
table(dat$speakengl,dat$irsex)
head(dat)
tab.irsexspeakengl <- table(dat$speakengl,dat$irsex)
barplot(tab.irsexspeakengl,
        main = "Stacked barchart",
        xlab = "Speak English", ylab = "Frequency",
        legend.text = rownames(tab.irsexspeakengl),
        beside = FALSE) # Stacked bars (default)
    ```
        
Answer: There is an extremely high frequency of individuals that can speak english very well. It accounts for nearly all men and women respectively. A small group of individuals stated they spoke english well (7 men and 1 woman) and 2 women stated they spoke english not well.

Are there more English speaker females or males?

Answer: There are more male English speakers. 

#EXAM 1

# Instructions

a. Create a folder in your computer (a good place would be under Crim 250, Exams). 

b. Download the dataset from the Canvas website (fatal-police-shootings-data.csv) onto that folder, and save your Exam 1.Rmd file in the same folder.

c. Download the README.md file. This is the codebook. 

d. Load the data into an R data frame.
```{r}
dat <- read.csv("fatal-police-shootings-data.csv")
head(dat)
```


# Problem 1 (10 points)

a. Describe the dataset. This is the source: https://github.com/washingtonpost/data-police-shootings . Write two sentences (max.) about this.

__The dataset looks at the records of every fatal shooting in the US by a police officer in the line of duty since January 1, 2015. Variables include a unique identifier for each victim, the name of the victim, the date of the fatal shooting in YYYY-MM-DD format, the manner of death (shot or shot and tasered), whether the victim was armed (armed, undetermined, unknown, or unarmed), the age, gender, and race of the victim, the city and state where the shooting took place, if the victim had any signs of mental illness, threat level, whether the victim fled (by foot, by car, or did not flee), whether there was a body camera, the latitude and longitude of the locattion, and finally whether the coordinates were accurate to the location of the shooting.   .__

b. How many observations are there in the data frame?

__By opening the data frame (not using r) I can see that there are 6,694 observations. (excel gives the number of rows, but I subtracted 1 because I didn't count the column titles as observations.) __

c. Look at the names of the variables in the data frame. Describe what "body_camera", "flee", and "armed" represent, according to the codebook. Again, only write one sentence (max) per variable.

__"body_camera" indicates whether the officer was wearing a body camera (represented in data frame as true or false). "flee" indicates whether the victim fled and if so how they fled (represented in data frame as foot, car, or not fleeing). "armed" indicates whether the victim was armed with some sort of implement that a police officer believed could inflict harm (represented in data frame as the weapon that qualified the victim as armed, undetermined, unknown, or unarmed).__

d. What are three weapons that you are surprised to find in the "armed" variable? Make a table of the values in "armed" to see the options.
```{r}
table(dat$armed)
head(dat)
```

__I am surprised to see that toy weapon, binoculars, and microphone qualify a victim as "armed." None of these items are intended for harm, and even if attempted would probably not do much damage. Of course, the codebook does state that any item that the officer "believes" could do harm to him is included. His belief won't always be valid, as was the case for several of these cases. __ 

# Problem 2 (10 points)

a. Describe the age distribution of the sample. Is this what you would expect to see?
```{r}
hist(dat$age)
summary(dat$age)
```

__The data is skewed to the right, meaning that most of the victims were towards the younger side. There are less cases of older victim and the peak age is between between 30 and 40. I expected the spread of data, however the minimum and maximum values were very surprising.__

b. To understand the center of the age distribution, would you use a mean or a median, and why? Find the one you picked.
```{r}
hist(dat$age)
summary(dat$age)
```

__I would use the median because the center of distribution is the median whereas the mean is the average of all the data points. The median is 35.00. There are some missing values, but since they are not assigned numeric values, they don't affect any analysis of my data, such as finding the median. __

c. Describe the gender distribution of the sample. Do you find this surprising?
```{r}
table(dat$gender)
head(dat)
tab.gender <- table(dat$gender)
barplot(tab.gender,
        main = "Stacked barchart",
        xlab = "Gender", ylab = "Frequency",
        legend.text = rownames(tab.gender),
        beside = FALSE) # Stacked bars (default)
```

__There is about 21 times as much male victims as they are female victims. It is important to note that there are also 3 missing values, however not having these values do not impact the data because of how many more male victims there are in comparison to female victims. I am not surprised. I knew, before analyzing this data set, that men in the US are shot to death by the police more than women. __


# Problem 3 (10 points)

a. How many police officers had a body camera, according to news reports? What proportion is this of all the incidents in the data? Are you surprised that it is so high or low?

```{r}
table(dat$body_camera)
head(dat)
```

__910 police officers had a body camera, according to news reports.This is 13.6 % of all police officers. That is really surprising! It seems that having a body camera would be a measure of precaution for the officer that should be required, unless it is widely acknowledged that police often kill civilians for no just reason and so evidence on the body cameras would be damaging for the officers and that's the reason why they are not required or at least not worn.  __

b. In  how many of the incidents was the victim fleeing? What proportion is this of the total number of incidents in the data? Is this what you would expect?
```{r}
table(dat$flee)
head(dat)
tab.flee <- table(dat$flee)
barplot(tab.flee,
        main = "Barchart of Victims' Mode of Fleeing",
        xlab = "Mode of Fleeing", ylab = "Frequency",
        legend.text = rownames(tab.flee),
        beside = FALSE) # Stacked bars (default)
```

__The data is not very clear with the different modes of fleeing. There are 248 cases that are categorized as "other" in terms of fleeing. There are also 491 cases that have missing values. Therefore, I will only consider those who fled by car or foot as fleeing and disregard the cases categorized as missing or other. There are 1903 victims that fled and this is 28.9% of all victims. I expected more victims to have fled, but because there is such a great number of values (the other and the missing) that aren't included, I don't really trust this data's records of the number of victims who fled.__



# Problem 4 (10 points) -  Answer only one of these (a or b).

a. Describe the relationship between the variables "body camera" and "flee" using a stacked barplot. What can you conclude from this relationship? 

*Hint 1: The categories along the x-axis are the options for "flee", each bar contains information about whether the police officer had a body camera (vertically), and the height along the y-axis shows the frequency of that category).*

*Hint 2: Also, if you are unsure about the syntax for barplot, run ?barplot in R and see some examples at the bottom of the documentation. This is usually a good way to look up the syntax of R code. You can also Google it.*

__Your answer here.__

b. Describe the relationship between age and race by using a boxplot. What can you conclude from this relationship? 

*Hint 1: The categories along the x-axis are the race categories and the height along the y-axis is age.* 

*Hint 2: Also, if you are unsure about the syntax for boxplot, run ?boxplot in R and see some examples at the bottom of the documentation. This is usually a good way to look up the syntax of R code. You can also Google it.*


```{r}
table(dat$race,dat$age)
head(dat)
tab.raceage <- table(dat$race,dat$age)
barplot(tab.raceage,
        main = "Barchart of Age and Race",
        xlab = "Race Categories", ylab = "Age",
        legend.text = rownames(tab.raceage),
        beside = FALSE) # Stacked bars (default)
```
```{r}
table(dat$age,dat$race)
head(dat)
tab.raceage <- table(dat$age,dat$race)
barplot(tab.raceage,
        main = "Barchart of Age and Race",
        xlab = "Race Categories", ylab = "Age",
        legend.text = rownames(tab.raceage),
        beside = FALSE) # Stacked bars (default)
      
```
__Disregard first histogram. THere is a great number of older black and hispanic victims. There is also a great deal of victims whose races are not clarified, which is problematic in making a conclusion of the types of victims that are killed at the hands of police. White males however represent the group with the oldest victims killed by police. __


# Extra credit (10 points)

a. What does this code tell us? 

```{r, eval=FALSE}
mydates <- as.Date(dat$date)
head(mydates)
(mydates[length(mydates)] - mydates[1])
```

b. On Friday, a new report was published that was described as follows by The Guardian: "More than half of US police killings are mislabelled or not reported, study finds." Without reading this article now (due to limited time), why do you think police killings might be mislabelled or underreported?

c. Regarding missing values in problem 4, do you see any? If so, do you think that's all that's missing from the data?

This code arranges my data into the dates during which the cases occured.The last line of the code tells us the time difference. They might be mislabelled or underreported because so much of the data in this data set are either missing or unclear so that you can't make clear conclusions of the rate of police killings. There are missing data points in problem 4, however I don't think that's all that is missing, if the rest of the data frame is any indication. 

